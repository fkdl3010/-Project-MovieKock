<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper 
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd" >


<mapper namespace="com.koreait.movie.dao.MainDao">
	
	
	<select id="my_write" parameterType="int" resultType="com.koreait.movie.dto.CommentDto">
		SELECT movie_no, comments_title, comment_date
		  FROM comments
		 WHERE user_no = #{user_no}
	</select>
	
	
	<select id="movie_info" parameterType="int" resultType="com.koreait.movie.dto.CommentDto">
	    SELECT movie_no, comments_title, comment_date
		  FROM comments
		 WHERE user_no = #{user_no}
	</select>
	
<!-- <select id="mainList1"
		resultType="com.koreait.movie.dto.MovieDto">
		SELECT M.*, S.STAR_SCORE, G_
		FROM MOVIE M, MOVIE_SCORE S, MOVIE_GENRE G
		WHERE M.MOVIE_NO = S.MOVIE_NO
		<![CDATA[WHERE ROWNUM <= 12]]>
	</select>
	
	<select id="mainList2"
		resultType="com.koreait.movie.dto.MovieDto">
		SELECT *
		FROM MOVIE M, MOVIE_SCORE S
		WHERE M.MOVIE_NO = S.MOVIE_NO
		AND STAR_SCORE IN(1, 12)
		ORDER BY STAR_SCORE DESC
	</select> -->


	<select id="mainList1"
		resultType="com.koreait.movie.dto.MovieDto">
		SELECT *
		FROM MOVIE
		<![CDATA[WHERE ROWNUM <= 12]]>
	</select>
	<select id="mainList2" resultType="com.koreait.movie.dto.MovieDto">
		SELECT *
		FROM MOVIE
		<![CDATA[WHERE ROWNUM <= 12]]>
	</select>
	<select id="mainList3" resultType="com.koreait.movie.dto.MovieDto">
		SELECT *
		FROM MOVIE
		<![CDATA[WHERE ROWNUM <= 12]]>
	</select>
	
	<select id="resultList" parameterType="String" resultType="com.koreait.movie.dto.MovieDto">
		SELECT movie_title, movie_genre, star_score, movie_nation
		FROM movie m, movie_genre g
		WHERE m.movie_no = g.movie_no 
		and (movie_title=#{movie_title} 
		      or movie_genre=#{movie_genre}
		      or movie_nation=#{movie_nation})
		      
	</select>
</mapper>
	
